//trackThis.js
//http://github.com/jonathanhaslett/trackThis.js
(function(e){e.fn.trackThis=function(t){t=jQuery.extend({fileExt:"",UACode:""},t);var n=function(){if(t.UACode){console.log(t.UACode);window._gaq=[];_gaq.push(["_setAccount",t.UACode]);_gaq.push(["_trackPageview"]);(function(){var e=document.createElement("script");e.type="text/javascript";e.async=true;e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/u/ga_debug.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})()}e('a[href^="tel:"]').on("click",function(t){var n=e(this).attr("href");_gaq.push(["_trackEvent","Telephone","Clicked",n],function(){return true})});e('a[href^="mailto:"]').on("click",function(t){var n=e(this).attr("href");_gaq.push(["_trackEvent","Email","Clicked",n],function(){return true})});e('a[href^="#"]').on("click",function(t){var n=e(this).attr("href");_gaq.push(["_trackPageview",e(location).attr("pathname")+n],function(){return true})});e('a[href*="://"]:not([href*="'+location.hostname.replace("www.","")+'"])').on("click",function(t){var n=e(this).attr("href");e(this).attr("target","_blank").attr("rel","external");_gaq.push(["_trackEvent","External Link","Clicked",n],function(){return true})});var n=["pdf","zip","dmg"];userExt=t.fileExt.split(",");userExt=n.concat(userExt);e.each(userExt,function(t,n){userExt[t]='a[href$=".'+e.trim(n)+'"]'});userExt=userExt.join(",");console.log(userExt);e(userExt).on("click",function(t){var n=e(this).attr("href");e(this).attr("target","_blank").attr("rel","external");_gaq.push(["_trackEvent","File","Downloaded",n],function(){return true})})};n()}})(jQuery)