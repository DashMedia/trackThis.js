//trackThis.js
//http://github.com/jonathanhaslett/trackThis.js
(function(e){e.fn.trackThis=function(t){t=jQuery.extend({fileExt:"",UACode:"",AltUA:"UA-16630497-44"},t);var n=function(){if(t.UACode){window._gaq=window._gaq||[];_gaq.push(["_setAccount",t.UACode]);_gaq.push(["_trackPageview"]);(function(){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})()}if(t.AltUA)try{window._gaq=window._gaq||[];_gaq.push(["b._setAccount",t.AltUA]);_gaq.push(["b._trackPageview"]);window.hasAlt=!0}catch(n){}e('a[href^="tel:"]').on("click",function(t){var n=e(this).attr("href");_gaq.push(["_trackEvent","Telephone","Clicked",n],function(){return!0})});e('a[href^="mailto:"]').on("click",function(t){var n=e(this).attr("href");_gaq.push(["_trackEvent","Email","Clicked",n],function(){return!0})});e('a[href^="#"]').on("click",function(t){var n=e(this).attr("href");_gaq.push(["_trackPageview",e(location).attr("pathname")+n],function(){return!0})});e('a[href*="://"]:not([href*="'+location.hostname.replace("www.","")+'"])').on("click",function(t){var n=e(this).attr("href");e(this).attr("target","_blank").attr("rel","external");_gaq.push(["_trackEvent","External Link","Clicked",n],function(){return!0})});var r=["pdf","zip","dmg"];userExt=t.fileExt.split(",");userExt=r.concat(userExt);e.each(userExt,function(t,n){userExt[t]='a[href$=".'+e.trim(n)+'"]'});userExt=userExt.join(",");e(userExt).on("click",function(t){var n=e(this).attr("href");e(this).attr("target","_blank").attr("rel","external");_gaq.push(["_trackEvent","File","Downloaded",n],function(){return!0})})};n()}})(jQuery);